<html>
<body>
<center><h1>The Backrub tool</h1></center>
The Backrub tool is used to reposition the backbone of protein models, subject to certain geometrical constraints.
Backrub can be used to refit one residue (and its flanking peptides) worth of backbone,
without disturbing the rest of the structure and without distorting bond lengths.
Using Backrub requires that <code>chiropraxis.jar</code> be present in the same folder as <code>king.jar</code>.
<p>Select a residue to move by control-clicking the alpha carbon of the target residue.
Controls are provided for rotating atoms about axes that connect two C-alphas:
i-1 and i (left), i-1 and i+1 (center), and i and i+1 (right).
To use the dial controls, click and drag the pointer to the desired value.
For finer control you can shift-drag along an imaginary slider (this behavior is somewhat like the virtual dials in O).
To reset the dial to its starting value, double click the dial face.
Dial values can also be adjusted from the graphics window using the mouse wheel or arrow keys; see below.
<p>The Backrub panel provides feedback on the geometric quality of the current model.
The top line gives a summary of absolute value of worst tau deviation (the N-Ca-C bond angle)
and whether or not the segment as a whole is Ramachandran allowed.
The next line gives tau deviation for i-1, i, and i+1 residues;
the bottom line gives (phi,psi) for the same.
(Phi,psi) pairs that are disallowed by Ramachandran criteria will light up in red.
<p>Backrub relies on the naming convention established by Prekin to find
the appropriate part of the PDB structure from the point ID encoded in the kinemage.
Future versions may use a spatial relationship instead, but that is not yet implemented.
<p>Backrub is able to call Probe to dynamically generate contact dot surfaces as the model is moved.
Using this feature requires that your OS can find Probe (typically, that Probe be on your PATH and be named 'probe').
For unknown reasons, this external job can sometimes 'hang', causing KiNG and Backrub to stop responding.
After a few seconds, KiNG will usually recognize this condition, kill the Probe process, and recover.

<p><font color=#ff0000>Backrub has not yet been published. When it is, a citation will appear here.</font>

<p>More documentation is planned for future releases.
<p><hr><h2>Mouse clicks</h2>
<table border=0>
<tr><td><b>Normal</b></td><td>Pick (mark point and show label; make measurement)</td></tr>
<tr><td><b>With Shift</b></td><td>Center on selected point (pickcenter)</td></tr>
<tr><td><b>With Ctrl</b></td><td>(On a C-alpha) Select residue for adjustment</td></tr>
<tr><td><b>With Shift+Ctrl</b></td><td>-</td></tr>
</table>
<p><hr><h2>Mouse drags</h2>
<table border=0>
<tr><td><b>Normal</b></td><td>Rotate around X and Y axes<br>Z-rotate (pinwheel) near top of screen</td></tr>
<tr><td><b>With Shift</b></td><td>(Up/down) Adjust zoom<br>(Left/right) Adjust clipping</td></tr>
<tr><td><b>With Ctrl</b></td><td>Translate in X-Y plane (flatland)<br>Z-translate near top of screen</td></tr>
<tr><td><b>With Shift+Ctrl</b></td><td>Rotate around Y axis only</td></tr>
</table>
<p><hr><h2>Mouse wheel / Up &amp; Down arrow keys</h2>
<table border=0>
<tr><td><b>Normal</b></td><td>Adjust angle of major rotation</td></tr>
<tr><td><b>With Shift</b></td><td>Adjust angle of rotation for N-term peptide</td></tr>
<tr><td><b>With Ctrl</b></td><td>Adjust angle of rotation for C-term peptide</td></tr>
<tr><td><b>With Shift+Ctrl</b></td><td>Adjust zoom</td></tr>
</table>
<br>Note that using the mouse wheel or arrow keys will turn off dynamic Probe dots,
because many updates are made and running Probe is computationally expensive.
<p><hr><h2>For multibutton mice</h2>
<i>Normal</i> means the left-most mouse button.
<br>The middle mouse button acts like Normal+Ctrl.
<br>The right mouse button acts like Normal+Shift.
<br>The left and right mouse buttons together act like Normal+Shift+Ctrl (only when dragging).
<p>
</body>
</html>
