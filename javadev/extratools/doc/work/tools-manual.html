<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>The Extratools manual</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html --> 
<meta name="src" content="tools-manual.tex"> 
<meta name="date" content="2010-12-14 21:46:00"> 
<link rel="stylesheet" type="text/css" href="tools-manual.css"> 
</head><body 
>
   <div class="maketitle">


<h2 class="titleHead">The Extratools manual</h2>
<div class="author" ></div><br />
<div class="date" ><span 
class="ptmr8t-x-x-120">December 14, 2010</span></div>

   </div>
<!--l. 28--><p class="indent" >   Ian W. Davis, Vincent B. Chen, and Daniel A. Keedy

   <h2 class="likechapterHead"><a 
 id="x1-1000"></a>Contents</h2> <div class="tableofcontents">
   <span class="chapterToc" >1 <a 
href="#x1-20001" id="QQ2-1-2">The Tools</a></span>
<br />   &#x00A0;<span class="sectionToc" >1.1 <a 
href="#x1-30001.1" id="QQ2-1-3">90 Degree Rotations: Seeing precisely</a></span>
<br />   <span class="chapterToc" >2 <a 
href="#x1-40002" id="QQ2-1-4">Data analysis</a></span>
<br />   &#x00A0;<span class="sectionToc" >2.1 <a 
href="#x1-50002.1" id="QQ2-1-5">Data Plotter Tool </a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.1.1 <a 
href="#x1-60002.1.1" id="QQ2-1-6">Input files</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >2.1.2 <a 
href="#x1-70002.1.2" id="QQ2-1-7">Basic usage</a></span>
<br />   &#x00A0;<span class="sectionToc" >2.2 <a 
href="#x1-80002.2" id="QQ2-1-8">High-dimensional Sliders </a></span>
<br />   <span class="chapterToc" >3 <a 
href="#x1-90003" id="QQ2-1-9">Kin editing</a></span>
<br />   &#x00A0;<span class="sectionToc" >3.1 <a 
href="#x1-100003.1" id="QQ2-1-10">Co-centering Tool</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.1.1 <a 
href="#x1-110003.1.1" id="QQ2-1-11">Basic Usage</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.1.2 <a 
href="#x1-120003.1.2" id="QQ2-1-12">Scanning through a structure</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.1.3 <a 
href="#x1-130003.1.3" id="QQ2-1-13">Cocentering on parens</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.1.4 <a 
href="#x1-140003.1.4" id="QQ2-1-14">Warnings</a></span>
<br />   &#x00A0;<span class="sectionToc" >3.2 <a 
href="#x1-150003.2" id="QQ2-1-15">Paren Tool</a></span>
<br />   &#x00A0;<span class="sectionToc" >3.3 <a 
href="#x1-160003.3" id="QQ2-1-16">Dock 3-on-3: Geometric construction</a></span>
<br />   &#x00A0;<span class="sectionToc" >3.4 <a 
href="#x1-170003.4" id="QQ2-1-17">Least-Squares Docking: Getting the best fit</a></span>
<br />   &#x00A0;<span class="sectionToc" >3.5 <a 
href="#x1-180003.5" id="QQ2-1-18">Dock By Picking</a></span>
<br />   &#x00A0;<span class="sectionToc" >3.6 <a 
href="#x1-190003.6" id="QQ2-1-19">Extract Loop Tool</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.6.1 <a 
href="#x1-200003.6.1" id="QQ2-1-20">Basic Usage</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.6.2 <a 
href="#x1-210003.6.2" id="QQ2-1-21">Advanced Usage</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.6.3 <a 
href="#x1-220003.6.3" id="QQ2-1-22">Warnings</a></span>
<br />   &#x00A0;<span class="sectionToc" >3.7 <a 
href="#x1-230003.7" id="QQ2-1-23">Kinemage Fudging</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.7.1 <a 
href="#x1-240003.7.1" id="QQ2-1-24">Adjusting bond distances, angles, and dihedrals</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.7.2 <a 
href="#x1-250003.7.2" id="QQ2-1-25">Moving objects</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >3.7.3 <a 
href="#x1-260003.7.3" id="QQ2-1-26">Exporting to PDB</a></span>
<br />   &#x00A0;<span class="sectionToc" >3.8 <a 
href="#x1-270003.8" id="QQ2-1-27">Recoloring</a></span>
<br />   &#x00A0;<span class="sectionToc" >3.9 <a 
href="#x1-280003.9" id="QQ2-1-28">Artificial skylighting</a></span>
<br />   &#x00A0;<span class="sectionToc" >3.10 <a 
href="#x1-290003.10" id="QQ2-1-29">&#8220;Lathe&#8221; tool: Just for fun</a></span>
<br />   &#x00A0;<span class="sectionToc" >3.11 <a 
href="#x1-300003.11" id="QQ2-1-30">Making Movies</a></span>
<br />   &#x00A0;<span class="sectionToc" >3.12 <a 
href="#x1-310003.12" id="QQ2-1-31">Editing Multiple Lists </a></span>
<br />   &#x00A0;<span class="sectionToc" >3.13 <a 
href="#x1-320003.13" id="QQ2-1-32">Select by color</a></span>
<br />   <span class="chapterToc" >4 <a 
href="#x1-330004" id="QQ2-1-33">Exporting kinemages in other formats</a></span>
<br />   &#x00A0;<span class="sectionToc" >4.1 <a 
href="#x1-340004.1" id="QQ2-1-34">Exporting for POV-Ray</a></span>
<br />   &#x00A0;<span class="sectionToc" >4.2 <a 
href="#x1-350004.2" id="QQ2-1-35">Exporting for Raster3D</a></span>
<br />   &#x00A0;<span class="sectionToc" >4.3 <a 
href="#x1-360004.3" id="QQ2-1-36">Deprecated export formats</a></span>
<br />   <span class="chapterToc" >5 <a 
href="#x1-370005" id="QQ2-1-37">Structural biology tools</a></span>

<br />   &#x00A0;<span class="sectionToc" >5.1 <a 
href="#x1-380005.1" id="QQ2-1-38">RNA Rotator Tool</a></span>
<br />   &#x00A0;<span class="sectionToc" >5.2 <a 
href="#x1-390005.2" id="QQ2-1-39">RDC Play Plugin</a></span>
<br />   &#x00A0;<span class="sectionToc" >5.3 <a 
href="#x1-400005.3" id="QQ2-1-40">RDCvis</a></span>
<br />   <span class="chapterToc" >6 <a 
href="#x1-410006" id="QQ2-1-41">Specialty/Beta test tools</a></span>
<br />   &#x00A0;<span class="sectionToc" >6.1 <a 
href="#x1-420006.1" id="QQ2-1-42">&#8220;KinImage&#8221; tool: Just silly </a></span>
<br />   &#x00A0;<span class="sectionToc" >6.2 <a 
href="#x1-430006.2" id="QQ2-1-43">RNA Maps: Finding the phosphates <span 
class="ptmri8t-">(not active by default)</span></a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.2.1 <a 
href="#x1-440006.2.1" id="QQ2-1-44">Current Issues</a></span>
<br />   &#x00A0;<span class="sectionToc" >6.3 <a 
href="#x1-450006.3" id="QQ2-1-45">Analyze Geometry Plugin (replaced by Dangle, not active)</a></span>
<br />   &#x00A0;&#x00A0;<span class="subsectionToc" >6.3.1 <a 
href="#x1-460006.3.1" id="QQ2-1-46">Issues</a></span>
<br />   &#x00A0;<span class="sectionToc" >6.4 <a 
href="#x1-470006.4" id="QQ2-1-47">Fill-Gap Plugin (replaced by JiffiLoop, not active)</a></span>
<br />   <span class="chapterToc" >7 <a 
href="#x1-480007" id="QQ2-1-48">Copyright &amp; acknowledgments</a></span>
<br />   &#x00A0;<span class="sectionToc" >7.1 <a 
href="#x1-490007.1" id="QQ2-1-49">Copyright</a></span>
<br />   &#x00A0;<span class="sectionToc" >7.2 <a 
href="#x1-500007.2" id="QQ2-1-50">Revision status</a></span>
   </div>

   <h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;1</span><br /><a 
 id="x1-20001"></a>The Tools</h2>
<!--l. 35--><p class="noindent" >This manual describes the KiNG tools available in the &#8217;extratools&#8217; and &#8217;rdcvis&#8217; packages. It is
roughly laid out in order of the tools menu in KiNG, with tools in the main menu in this
chapter, and a separate chapter for the &#8217;Data analysis&#8217;, &#8217;Kin editing&#8217;, &#8217;Structural biology&#8217;,
&#8217;Export&#8217; (File menu), and &#8217;Specialty&#8217; tools. Also see the KiNG manual for descriptions of
other tools.
   <h3 class="sectionHead"><span class="titlemark">1.1    </span> <a 
 id="x1-30001.1"></a>90 Degree Rotations: Seeing precisely</h3>
<!--l. 45--><p class="noindent" >The 90 Degree Rotations plugin provides a simple way to turn your model by 90
degrees around any of the three Cartesian axes. It also provides a shortcut back to the
standard kinemage orientation: looking straight down the Z axis from the positive end
toward the negative one, with positive X to the right and positive Y at the top of the
screen.
<!--l. 52--><p class="indent" >   This plugin is particularly useful in combination with a trick for setting up simultaneous
orthogonal views of a kinemage. Read about it in the section on stereo graphics in the KiNG
manual.

   <h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;2</span><br /><a 
 id="x1-40002"></a>Data analysis</h2>
   <h3 class="sectionHead"><span class="titlemark">2.1    </span> <a 
 id="x1-50002.1"></a>Data Plotter Tool </h3>
<!--l. 62--><p class="noindent" >The Data plotter tool is for importing high-dimensional (3) data into KiNG, for use with
parallel coordinates.
<!--l. 66--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.1.1    </span> <a 
 id="x1-60002.1.1"></a>Input files</h4>
<!--l. 68--><p class="noindent" >This tool takes as input delimited, numerical files. The tool will use the first line of the file to
determine the number of dimensions to use in the kinemage, as well as the names for each
dimension. Also, it will use the first column as the point ID of each point. This allows users to
enter identifying information about each row in the first column which will then be used in
the kinemage for each point.
<!--l. 76--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">2.1.2    </span> <a 
 id="x1-70002.1.2"></a>Basic usage</h4>
<!--l. 78--><p class="noindent" >When this tool is started, it asks for an input file. Once a file is selected, it asks for the type of
delimiter that is used in the file. It will then use the selected delimiter to parse the file.
It then pops up a GUI with a number of different options. The different &#8220;.. axis&#8221;
selection lists allow users to pick the initial three dimensions to plot. The bins selection
list and the &#8220;# of Bins&#8221; entry field allows users to divide up the data into different
bins (using the selected dimension), which will show up as separate groups in the
kinemage. Once the desired axes and/or bins have been chosen, the Plot! button will
plot the data into a kinemage. Once plotted, users can use the built-in &#8220;Choose
viewing axes&#8221; and &#8220;Parallel coordinates&#8221; (under the Views menu) to manipulate the
data.
<!--l. 92--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">2.2    </span> <a 
 id="x1-80002.2"></a>High-dimensional Sliders </h3>
<!--l. 94--><p class="noindent" >The High-dimensional sliders plugin is for manipulating high-dimensional kinemages. When
started, it determines the number of dimensions in the kinemage, and creates a GUI
containing a pair of low-high sliders for each dimension. Each slider is named with the
corresponding dimension name, if present in the kinemage. Sliding the different sliders will
turn off any points with that particular coordinate outside of the range encompased by the two
sliders.

   <h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;3</span><br /><a 
 id="x1-90003"></a>Kin editing</h2>
<!--l. 105--><p class="noindent" >Several new tools have been created that allow kinemages to be more easily edited without
having to go back to the original PDB and creating a new kinemage.
   <h3 class="sectionHead"><span class="titlemark">3.1    </span> <a 
 id="x1-100003.1"></a>Co-centering Tool</h3>
<!--l. 112--><p class="noindent" >The Co-centeringTool is primarily for use with NMR-derived ensembles of models; it will
translate all groups in kinemage onto a single selected point.
<!--l. 117--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.1.1    </span> <a 
 id="x1-110003.1.1"></a>Basic Usage</h4>
<!--l. 119--><p class="noindent" >Just middle-click or ctrl-click on an atom in a kinemage to cocenter all the groups of that
kinemage onto that point. Click on the &#8220;Reset Coordinates&#8221; button to reset all atoms to their
original coordinates.
<!--l. 124--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.1.2    </span> <a 
 id="x1-120003.1.2"></a>Scanning through a structure</h4>
<!--l. 126--><p class="noindent" >This tool includes the ability to scan through a structure one residue at a time, cocentering as
it goes. Choose an atom to use as the centering point from the pull-down box, and then hit the
left or right arrow buttons on the GUI to cocenter and recenter on the previous or
next residue. Select the &#8220;Slide to next point&#8221; box to smoothly slide to the next or
previous point. This can also be activated using the keyboard shortcut shift-j or j (for
jump). As with many tools, this functionality is sensitive to the point IDs of the
kinemage.
<!--l. 136--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.1.3    </span> <a 
 id="x1-130003.1.3"></a>Cocentering on parens</h4>
<!--l. 138--><p class="noindent" >The basic usage of cocenter only works on structures with identical sequences. For
cocentering non-identical structures, we have created a cocenter on parens mode, which uses
a new feature of pointIDs. To use this, enter a <span 
class="pcrr8t-">&#8220;(#)&#8221; </span>[where the # is an integer] at the
beginning of the point ID of the atoms you want to cocenter. With this option selected, the
arrow buttons or j shortcut keys will jump through the (#) points by order of the
integer. This also allows users to set up various cocentered views, and quickly jump
through them, without having to manually find them, or stepping through the whole
sequence.
<!--l. 150--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.1.4    </span> <a 
 id="x1-140003.1.4"></a>Warnings</h4>
<!--l. 152--><p class="noindent" >This functionality is based on the point ID of the points in the different groups. The tool uses
the first 14 characters of the point ID clicked on to search the other groups. If a group does
not have a point with the same first 14 characters in the point ID, the group will not get

moved. When using the parens points, only groups with a point with the appropriate paren
integer will be moved. It&#8217;s important to note also that this tool only does translation; it does
not do any rotations at all. Superpositions of the different models may be necessary before
using this tool.
<!--l. 163--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">3.2    </span> <a 
 id="x1-150003.2"></a>Paren Tool</h3>
<!--l. 165--><p class="noindent" >The Paren tool provides a convenient way of adding parens (for use with co-centering) to
point IDs.
<!--l. 168--><p class="indent" >   When started, it automatically detects all paren points already defined in the
kinemage. Each group of paren points is listed in the list box. Selecting the group
from the list will label all the points in that group. To add or remove points to the
group, select the group from the list and pick points without numbers to add them,
or with number to remove them. You can also add new groups, or delete whole
groups.
<!--l. 177--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">3.3    </span> <a 
 id="x1-160003.3"></a>Dock 3-on-3: Geometric construction</h3>
<!--l. 179--><p class="noindent" >The three-point docking tool is useful for constructing geometric shapes and figures out of
existing pieces in kinemage format. As you start picking points with the mouse, they will be
labeled with numbers: first three points in the reference frame, then three in the mobile
frame. When you&#8217;re ready to apply the docking transformation, turn off groups
that should remain in place and leave visible those that should move. Then press
the <span 
class="pcrr8t-">Dock </span>button. The first points will be superimposed exactly, the 1-2 axes will
be aligned (so that the mobile &#8220;points in the direction of&#8221; the reference) and the
final points are used to determine rotational position (dihedral angle) about the 1-2
axis.
<!--l. 191--><p class="indent" >   If you&#8217;d like to dock several of the same object with respect to each other, remember you
can use the copy and paste commands in the hierarchy editor to create duplicate
objects.
<!--l. 196--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">3.4    </span> <a 
 id="x1-170003.4"></a>Least-Squares Docking: Getting the best fit</h3>
<!--l. 198--><p class="noindent" >The least-squares docking tool is useful for matching up two objects that are similar but not
quite the same. As you start picking points with the mouse, they will be labeled with
numbers, defining the Reference frame. Once you&#8217;ve selected something to dock onto, you
should choose the Mobile frame and add an equal number of points to it. The order matters: 1
will match with 1, 2 with 2, and so on. When you&#8217;re ready to apply the docking
transformation, turn off groups that should remain in place and leave visible those that
should move. Then press the <span 
class="pcrr8t-">Dock </span>button. The matched points will be positioned so

as to minimize the sum of the squares of their separation (thus the phrase &#8220;least
squares&#8221;).
<!--l. 210--><p class="indent" >   If you&#8217;d like to dock several of the same object with respect to each other, remember you
can use the copy and paste commands in the hierarchy editor to create duplicate
objects.
<!--l. 215--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">3.5    </span> <a 
 id="x1-180003.5"></a>Dock By Picking</h3>
<!--l. 217--><p class="noindent" >The dock by picking tool builds upon the least-squares docking tool, making use of structure
connectivity to make the tool easier to use. In this version, you do not have to click on every
point that you want to use to dock. Instead, you can click on two points, and almost every
point in between will be automatically added to the selected box (reference or mobile). It
leaves out points that are off, or are only one atom away (e.g. it ignores hydrogens and
carbonyls). This tool requires the same number of points to be selected in the reference and
mobile fields. The dock button will move the mobile, and every point connected to the
mobile section. There is no need to turn off or on parts of the structure to get them to
move.
<!--l. 229--><p class="indent" >   N.B. Since this tool uses connectivity to determine the points, and the mobile section, it is
easy to confuse. For example, it is inconsistent when considering sidechains, or especially
rings in structures.
<!--l. 234--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">3.6    </span> <a 
 id="x1-190003.6"></a>Extract Loop Tool</h3>
<!--l. 236--><p class="noindent" >This tool is for removing unwanted residues from macromolecular structures.
<!--l. 239--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.6.1    </span> <a 
 id="x1-200003.6.1"></a>Basic Usage</h4>
<!--l. 241--><p class="noindent" >Enter the residue number range into the two text boxes and hit the Keep! button. Every
residue number in between the range, including the two numbers, will be kept. Multiple
ranges can be entered; the ranges that have been entered are shown in the list box. The
Remove last button can be used to remove the last range entered. Once the proper ranges have
been entered, the Delete rest! button can be used to delete every point without a desired
residue number.
<!--l. 250--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.6.2    </span> <a 
 id="x1-210003.6.2"></a>Advanced Usage</h4>
<!--l. 252--><p class="noindent" >The LoopTool can read in a comma delimited file and use information in the file to delete
residues from a structure. This allows a user to save ranges in a file, and not have to manually
input the ranges. The format for the files is as follows: pdbname, lowresnum, highresnum,

looplength, looplength, B-Factor (e.g. 1ubq,1,5,4,4,1.0). The two looplength fields
are included for legacy reasons, but it is not important to have the correct value in
those fields, just a number. B-Factor is used for the order of editing more than one
structure (more on this later) but similarly to looplength, the number in this field is
not critical. To use this feature, use the Open CSV file button to read in the CSV
file. Then, just hit Delete from file to remove residues that aren&#8217;t in your included
ranges.
<!--l. 265--><p class="indent" >   The LoopTool can also delete residues from multiple structures. In order to use this
feature, you need to have a CSV formatted in the same way as described for a single
structure, but each line contains a different range. You also need to have a directory
containing kinemages of all the different structures, and also a folder called &#8220;loops&#8221;
in that directory. Then, open your CSV file as before, and use the Do ALL from
file button to specify the directory of kinemages. The program will open every
kinemage as needed, delete unwanted residues, and save the new kin in the loops
directory.
<!--l. 276--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.6.3    </span> <a 
 id="x1-220003.6.3"></a>Warnings</h4>
<!--l. 278--><p class="noindent" >The LoopTool makes heavy use of the information in the point IDs of the kinemages. If there
are mistakes or unexpected information in the point IDs, then this tool will probably function
incorrectly. Use kinemages generated from Prekin, Molprobity, or Molikin to ensure the
highest rate of success.
<!--l. 285--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">3.7    </span> <a 
 id="x1-230003.7"></a>Kinemage Fudging</h3>
<!--l. 287--><p class="noindent" >The KinFudger tool now allows distance and angles between points to be easily
adjusted. This is especially useful in modifying bond distances, angles, and dihedrals in
macromolecular structures.
<!--l. 291--><p class="indent" >   The control panel is simple, consisting of options for the parameter you wish to adjust,
whether you want to move only one point (and all attached single points&#8211;I use this
to move an atom and its attached hydrogens), and a button to export your kin to
PDB.
<!--l. 297--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.7.1    </span> <a 
 id="x1-240003.7.1"></a>Adjusting bond distances, angles, and dihedrals</h4>
<!--l. 299--><p class="noindent" >In order to adjust a parameter, select the parameter you wish to adjust and click on the
kinemage points you want to adjust, in order as if you were doing measures. By default, the
tool will move the last point you clicked on, plus all the points connected to that point
excluding the points &#8220;behind&#8221; the points you clicked. So for example, if you had a A-B-C-D
connection, and you were adjusting the distance between B and C, and you clicked on B first,
then C, then the program would move C and D. Likewise, if you clicked on C first, and then

B, the program would move A and B. Naturally, the connectivity finding algorithm I
use gets confused if you are adjusting with a cyclic structure, so be careful in that
situation.
<!--l. 311--><p class="indent" >   An interesting use I discovered about this tool is that you can use the distance adjusting to
do a one-point docking of structures to close gaps.
<!--l. 316--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.7.2    </span> <a 
 id="x1-250003.7.2"></a>Moving objects</h4>
<!--l. 318--><p class="noindent" >Under the &#8220;Advanced options&#8221;, users can turn on a mode that lets users use the mouse to
move objects within a kinemage. Right-click and drag translates the clicked on point, as well
as anything connected to it. Left-click and drag rotates everything connected to the selected
point around that point.
<!--l. 325--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">3.7.3    </span> <a 
 id="x1-260003.7.3"></a>Exporting to PDB</h4>
<!--l. 327--><p class="noindent" >The KinFudger also includes an export to PDB functionality. As long as your kinemage
PointIDs are formatted in a standard fashion (i.e. from Molikin, MolProbity, or
Prekin), the tool will export all active points to a PDB file. So turn off anything
you don&#8217;t want in your PDB. Also, if it encounters an non-standard atom name, it
will output &#8220;UNK&#8221; in the atom field of the PDB. Currently, it only exports protein
atoms.
<!--l. 336--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">3.8    </span> <a 
 id="x1-270003.8"></a>Recoloring</h3>
<!--l. 338--><p class="noindent" >KiNG now has the ability to easily recolor kinemages. This tool was designed to specifically
recolor protein structure kinemages; however, it can probably be used to recolor
other kinds of kinemages as well. It allows specific regions of a structure to be
recolored. For example, a specific amino acid, a particular alpha helix, or a whole
subunit can be highlighted. This tool can also create a table of the amino acids in a
structure.
<!--l. 346--><p class="indent" >   The control panel for this tool has a number of options. The top line contains the color
options, the second line contains the area of effect options, and the third line contains info
boxes about what you are coloring and some extra control options. Most of the coloring is
activated by clicking on the structure. It is important to note that this tool only
recolors lists and subgroups, so depending on your kinemage, it is possible to color
the sidechains separately from the backbone. Also, this tool only colors by point
color.
<!--l. 355--><p class="indent" >   Usage tip: There seems to be some issues with serine sidechains not being able to be
colored. To work around this, try turning on the &#8220;Pick Objects&#8221; option in the Tools menu, and
click directly on a bond in the sidechain.

<!--l. 361--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">3.9    </span> <a 
 id="x1-280003.9"></a>Artificial skylighting</h3>
<!--l. 363--><p class="noindent" >This plugin gives additional visual depth cues to CPK space-filling models by doing some
fancy lighting calculations for kinemage spheres. It works for balls, too, but looks weird
because of the highlights. To use it, just make a CPK kinemage with spheres, and run the tool.
Essentially, it darkens the colors of balls closer to the &#8217;inside&#8217; of the molecules. It will take a
while on large files.
<!--l. 370--><p class="indent" >   Note that it does obliterate existing point colors, and until we have a mechanism for
writing out per-point unique (non-palette) colors, the effect can&#8217;t be saved. It can, however, be
recalculated once some atoms (eg H) are turned off. This plugin
<!--l. 376--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">3.10    </span> <a 
 id="x1-290003.10"></a>&#8220;Lathe&#8221; tool: Just for fun</h3>
<!--l. 378--><p class="noindent" >This is a fun helper that shows what a wide variety of shapes and forms can be constructed
from a clever combination of kinemage primitives.
<!--l. 381--><p class="indent" >   The lathe tool takes a single polyline and sweeps it out around an axis to create a
polygonal object. One strip of 64 triangles is created for every line segment. This
tool is ideal for creating anything with an axis of symmetry: bottles, vases, lamps,
simple cylinders, and so on. The standard axis of rotation is the Y-axis, with rotation
centered at the origin, so keep this in mind when drawing a half-profile to use with this
tool.
<!--l. 390--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">3.11    </span> <a 
 id="x1-300003.11"></a>Making Movies</h3>
<!--l. 392--><p class="noindent" >This is a simple plugin to help users make movies. It allows users to configure various scenes
and motions (rock, spin, fly), and exports a series of image files which can be combined (such
as by Quicktime Pro) to make a movie. Buttons are included to conveniently resize the KiNG
window.
<!--l. 398--><p class="indent" >   This tool keeps track of objects which are turned on, so different things can be turned on
or off during the movie. To do this, make sure the kinemage is set to the desired options and
view before hitting the button corresponding to the action you want to do. So, for instance, to
fly to a new scene, go to the new view and hit + Fly to have the movie show that action. To
insert additional actions, click in the list of current actions before where you want the new
action to go.
<!--l. 406--><p class="indent" >   In practice, I (Vincent) find that it is best to add a short shapshot in between any
movement actions in movies. Play with different settings to discover what you
prefer.
<!--l. 411--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">3.12    </span> <a 
 id="x1-310003.12"></a>Editing Multiple Lists </h3>

<!--l. 413--><p class="noindent" ><span 
class="ptmri8t-">Authored by Daniel Keedy (daniel.keedy AT duke.edu)</span>
<!--l. 415--><p class="indent" >   Sometimes it&#8217;s useful to emphasize or de-emphasize certain elements of a kinemage, e.g.
to achieve the proper visual impact for a figure to be published. The Multi-list editor tool can
help, by letting you simultaneously edit multiple kinemage lists.
<!--l. 420--><p class="indent" >   First, use the checkboxes at the top of the control panel to determine what subset of lists
will be affected. A list is considered to contain Probe contacts if it has a master tag (dots,
vdw contact, small overlap, bad overlap, or H-bonds) generated by the all-atom
contact evaluation program Probe. Note that if the &#8220;only visible&#8221; checkbox at the
bottom is unchecked, all selected lists will be adjusted, not just the visible ones (i.e.
those turned on in the kinemage hierarchy). Just don&#8217;t bother changing all human
history...
<!--l. 429--><p class="indent" >   Next, repeatedly click the desired buttons to incrementally adjust the selected lists. For
example, &#8220;BIGGER&#8221; and &#8220;smaller&#8221; change the width/radius of all points in the selected lists,
and &#8220;opaquer&#8221; and &#8220;transparenter&#8221; make the lists more opaque (higher alpha value) or more
transparent (lower alpha value).
<!--l. 436--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">3.13    </span> <a 
 id="x1-320003.13"></a>Select by color</h3>
<!--l. 438--><p class="noindent" >This plugin works with the &#8217;select&#8217; kinemage group keyword to manipulate groups of data
points.
<!--l. 441--><p class="indent" >   To use it, make sure the kinemage group to be manipulated has the &#8217;select&#8217; keyword set
(either via the text, or the hierachy window). Then, select different combinations of &#8217;if&#8217; and
&#8217;if not&#8217; and a color, to work with either one color or all other colors, respectively. Buttons
allow points matching the selection to be turned off or on, or extracted into its own
list.
<!--l. 448--><p class="indent" >   This was originally created to work with large datasets, such as the 7 dimensional RNA
backbone dihedral angle data, which is displayed using ball points. However, the tool
does work with other kinds of points, as long as the &#8217;select&#8217; keyword is set for the
group.

   <h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;4</span><br /><a 
 id="x1-330004"></a>Exporting kinemages in other formats</h2>
<!--l. 456--><p class="noindent" >Several facilities are provided that can help get data out of kinemage format and into other
forms, either for making figures for publication or for further processing. Due to security
restrictions placed on applets, the export features are unavailable when KiNG is running in a
web browser.
   <h3 class="sectionHead"><span class="titlemark">4.1    </span> <a 
 id="x1-340004.1"></a>Exporting for POV-Ray</h3>
<!--l. 465--><p class="noindent" >KiNG can produce output script files to be fed into the high-quality free raytracing program
POV-Ray (www.povray.org). POV-Ray can generate all kinds of &#8220;photo-realistic&#8221; effects
including different materials and lighting schemes, simulated depth of field, <span 
class="ptmri8t-">etc. </span>It is also very
useful for producing digital movies that may be more convenient to use during talks and
presentations. (We recommend the inexpensive QuickTime Pro from Apple for stitching
together all the output images into a movie.) The POV file is largely complete as written and
includes terse hints for rendering, but if you use this feature much you&#8217;ll probably
want to learn something about POV-Ray and tweak the scripts before rendering
them. Most of the things you&#8217;ll want to change are either at the very top (colors,
textures, and sizes of things) or at the very bottom (camera viewpoint, depth cueing,
lighting).
<!--l. 480--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">4.2    </span> <a 
 id="x1-350004.2"></a>Exporting for Raster3D</h3>
<!--l. 482--><p class="noindent" >KiNG can now export scenes, for fancy image-rendering, with the &#8217;render&#8217; program of
Raster3D.
<!--l. 485--><p class="indent" >   This option exports most of the major kinemage point types, include balls, vectors, and
triangles (ribbons) to .r3d format files for use with render. It also exports information about
the points, such as transparency, line width, and color. It also will automatically set the
background of the file to match the background of KiNG at the time of export.
<!--l. 492--><p class="indent" >   There are a few oddities with this function. First, it can&#8217;t export text labels. Second, the
coordinate system doesn&#8217;t match exactly, so the exported view ends up in the upper left 3/4
corner of the rendered image.
<!--l. 498--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">4.3    </span> <a 
 id="x1-360004.3"></a>Deprecated export formats</h3>
<!--l. 504--><p class="noindent" ><span 
class="ptmri8t-">These features now lag far behind the rest of the program in functionality; they may not work</span>
<span 
class="ptmri8t-">at all. For this reason, they do not appear in the menus by default and must be &#8220;enabled&#8221;</span>
<span 
class="ptmri8t-">under the Tools menu. If you need any of these capabilities, you are encouraged to contact the</span>
<span 
class="ptmri8t-">author and encourage on-going development.</span>
<!--l. 506--><p class="indent" >   You can export kinemages in XML format using the Kinetic Image Markup Language by
choosing <span 
class="pcrr8t-">Kin-XML </span>from the <span 
class="pcrr8t-">File | Export </span>menu. We recommend giving these files the
extension <span 
class="pcrr8t-">.xkn </span>or <span 
class="pcrr8t-">.xml</span>. At this time, KiNG does not read these files, nor do
other kinemage viewers. Also, they may not include all of the information that

would be present in a traditional kinemage file. However, for people who would like
to operate on the data from a kinemage without having to write a parser for the
kinemage format, we expect this will be useful and convenient. Translation from
the modified XML back to kinemage format is left as an exercise to the reader
;)
<!--l. 517--><p class="indent" >   KiNG also has rudimentary abilities to export its 3-D primitives in VRML97 (a.k.a.
VRML 2.0) format. At present, only dots and balls are exported, and they are both rendered
as spheres. This feature was intended to facilitate the creation of models for rapid prototyping
systems. As with XML export, contact the author if further development of this feature would
be useful to you.

   <h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;5</span><br /><a 
 id="x1-370005"></a>Structural biology tools</h2>
   <h3 class="sectionHead"><span class="titlemark">5.1    </span> <a 
 id="x1-380005.1"></a>RNA Rotator Tool</h3>
<!--l. 530--><p class="noindent" >The RNA rotator tool is for adjusting the various dihedral angles of an RNA suite. It uses the
ModelManager system used for by the Backrub and sidechain rotator/mutator tools, which
means that RNA rotator uses and changes PDB files. It also can show real-time updatable
probe contact dots.
<!--l. 536--><p class="indent" >   To use RNA rotator, select the tool from the Structural biology menu. Select the PDB file
corresponding to the kinemage you are working on. This will load the PDB file into the
Model Manager, which allows you to save changes to the PDB file, as well as activate the
probe dots analysis. Middle-click or shift-click on a particular RNA residue to select it and
the following residue as the active &#8220;molten&#8221; suite. This will bring up the dihedral angle dialog
box, as well as the molten model, which reflects proposed changes being made in the
model. Dials are included for all the backbone dihedrals, as well as the base chi
angles. Blue highlights are indicated on the dials to indicate the most probable
dihedral angles. If installed, suitename will be run to give a real-time &#8220;suiteness&#8221;
score of the current suite. There is also a box to select from the known RNA suite
conformers. Selecting a conformer will set the backbone dihedrals, as well as the sugar
pucker, to the central dihedral values of the particular conformer. Finally, there is a
pair of boxes for selecting which atoms to superimpose the &#8220;molten&#8221; model on the
original.
<!--l. 555--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">5.2    </span> <a 
 id="x1-390005.2"></a>RDC Play Plugin</h3>
<!--l. 557--><p class="noindent" >The RDC play plugin allows quick visualization of a set of RDC curves, in fully interactive
and rotatable 3D. This plugin allows users to interact with the RDC curves and gain a general
understanding of their behavior of RDC data.
<!--l. 562--><p class="indent" >   Starting the plugin automatically generates a new kinemage with RDC curves drawn.
Slider bars are provided to adjust the rhombicity of the curves drawn, the range of the
Saupe matrix generating the curves, and for selecting a specific value of RDC to
draw, which is only active if the check box to only draw one value is selected. An
option for drawing the underlying hyperboloid surfaces the curves come from is
provided.
<!--l. 571--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">5.3    </span> <a 
 id="x1-400005.3"></a>RDCvis</h3>
<!--l. 573--><p class="noindent" >The RDCvis tool provides a convenient way of adding RDC curves to existing NMR model
kinemages.
<!--l. 576--><p class="indent" >   To use the tool, open a kinemage which needs RDC curves in KiNG. Starting the tool
opens a dialog box with several options, as well as boxes for specifying a PDB
file containing the NMR model(s), and a NMR data file in XPLOR format (see

rdcvis manual or the kinemage website for more details). The &#8217;Draw RDCs&#8217; button
will then prompt for the type of RDCs to draw, and then draw the selected RDC
curves for each residue directly in the kinemage. RDCvis will properly deal with
multi-model kinemages, adding RDC curves for each model to the group containing that
model.
<!--l. 586--><p class="indent" >   Several other options are provided on the RDCvis tool GUI. &#8217;Draw error curves&#8217; draws an
extra set of curves at 2 sigma away for each RDC. &#8217;Draw surfaces&#8217; draws representations of
the underlying hyperboloid surfaces. &#8217;Use ensemble tensor&#8217; calculates the Saupe matrix using
the entire ensemble, rather than calculating a separate Saupe matrix for each model. &#8217;Draw
curve spheres&#8217; draws an RDC curve sphere representative of the Saupe matrix on each
residue.

   <h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;6</span><br /><a 
 id="x1-410006"></a>Specialty/Beta test tools</h2>
<!--l. 597--><p class="noindent" >This chapter covers some of the tools in the Specialty menu. This menu contains tools which
are in beta testing or for highly specialized purposes, and thus not recommened for general
use.
   <h3 class="sectionHead"><span class="titlemark">6.1    </span> <a 
 id="x1-420006.1"></a>&#8220;KinImage&#8221; tool: Just silly </h3>
<!--l. 604--><p class="noindent" >This cute little utility converts an image file into a kinemage background. The source image
can be a local file or a sample from the Richardson Lab website: &#8220;Dave the Mage.&#8221; A new
kinemage group is created containing a dotlist with some percentage of the image&#8217;s pixels.
The list uses the &#8220;screen&#8221; keyword to indicate it is screen-oriented, i.e. impervious to
rotations, translations, or zooms. Custom colors are used, and subsequently stored as hsvcolor
items at the top of the file if the kinemage is saved.
<!--l. 614--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">6.2    </span> <a 
 id="x1-430006.2"></a>RNA Maps: Finding the phosphates <span 
class="ptmri8t-">(not active by default)</span></h3>
<!--l. 616--><p class="noindent" ><span 
class="ptmri8t-">Authored by Vincent Chen (vbc3 AT duke.edu)</span>
<!--l. 618--><p class="indent" >   This tool (still under development) was designed to aid users in locating potential
phosphate positions in the electron density maps of nucleic acids. Similar to the existing
electron density viewing plug-in, this tool asks the user to open a map file, and opens a
control window containing many of the same controls as the electron density plug-in. In
addition to these controls, it has a toggle button to activate/deactivate the "poly picking"
feature and a color selection list. When active, if the user left-clicks on a point in the
kinemage, the polyhedron containing that point will be highlighted in the color selected.
Next, the tool searches through the map to find the highest electron density value within that
selected polyhedron, and places a marker point on that spot, showing an approximate position
for the phosphorous.
<!--l. 633--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.2.1    </span> <a 
 id="x1-440006.2.1"></a>Current Issues</h4>
<!--l. 635--><p class="noindent" >This tool does not differentiate between a point in the electron density and a point on the
actual structure. Clicking on the structure with the poly picking tool active can result in the
program searching through the whole structure, which can take a very long time. Be sure to
click carefully, and to limit the polyhedra to be selected to a reasonable size (i.e.
have the sigma level set high enough that the polyhedra are about the size of a
phosphate). Also, once the first polyhedron has been selected, moving the electron
density around and selecting a polyhedron may result in an error. If this happens, the
program will have to be restarted in order to selected a polyhedron not in the initial
set.
<!--l. 648--><p class="noindent" >

   <h3 class="sectionHead"><span class="titlemark">6.3    </span> <a 
 id="x1-450006.3"></a>Analyze Geometry Plugin (replaced by Dangle, not active)</h3>
<!--l. 650--><p class="noindent" >This plugin is for automatically analyzing the backbone geometry of protein structures. It
uses the updated Engh and Huber (<span 
class="ptmri8t-">International Tables for Crystallography </span>(2001). Vol. F,
ch. 18.3, pp. 382-392) geometry data to flag bond lengths or angles which are at least 4
standard deviations away from their mean values. It also flags peptide dihedral angles
that are more than 20 degrees off of 180. In order to use this tool, simply have
a mainchain protein kinemage open in KiNG, and select Analyze Current from
the menu. It will also output a list containing all flagged issues to the command
line.
<!--l. 660--><p class="indent" >   This tool will also analyze all the files within a directory. Select Analyze All from the
menu, and select the directory containing the kinemages. This mode will only output the
errors to the command line.
<!--l. 665--><p class="noindent" >
   <h4 class="subsectionHead"><span class="titlemark">6.3.1    </span> <a 
 id="x1-460006.3.1"></a>Issues</h4>
<!--l. 667--><p class="noindent" >As with many of the tools dealing with protein residues, this tool is sensitive to the
pointIDs in your kinemage. It also has trouble dealing with insertion codes, since it is
often unable to figure out the order of the residues in kinemages with insertion
codes.
<!--l. 673--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">6.4    </span> <a 
 id="x1-470006.4"></a>Fill-Gap Plugin (replaced by JiffiLoop, not active)</h3>
<!--l. 675--><p class="noindent" >This plugin makes it easy to automatically fill in gaps in protein models. It scans
through a protein structure kin for gaps, analyzes the framing peptides of that gap,
searches through a quality filtered database of loops for matches, finds kins of those
matches, and superimposes them in the kinemage. It requires a database of loop frame
information, and a directory of protein kinemages, both of which are quite large, and as of
Feb 2007 are not publicly available. Eventually I plan to make them available on
kinemage.biochem.duke.edu.

   <h2 class="chapterHead"><span class="titlemark">Chapter&#x00A0;7</span><br /><a 
 id="x1-480007"></a>Copyright &amp; acknowledgments</h2>
   <h3 class="sectionHead"><span class="titlemark">7.1    </span> <a 
 id="x1-490007.1"></a>Copyright</h3>
<!--l. 690--><p class="noindent" >The Extratools code and all its associated original resources and documentation
are copyright (C) 2002-2010 by Ian W. Davis, Vincent B. Chen, and Daniel A.
Keedy.
<!--l. 695--><p class="noindent" >
   <h3 class="sectionHead"><span class="titlemark">7.2    </span> <a 
 id="x1-500007.2"></a>Revision status</h3>
<!--l. 697--><p class="noindent" >This manual was last updated 14 Dec 2010 by VBC for Extratools version 2.22.
 
</body></html> 



